
Три способа выполнения SetX: 

Синтаксис 1:
    SETX [/S <система> [/U [<домен>\]<пользователь> [/P [<пароль>]]]] var
         <значение> [/M]

Синтаксис 2:
    SETX [/S <система> [/U [<домен\>]<пользователь> [/P [<пароль>]]]] var /K
         <путь> [/M]

Синтаксис 3:
    SETX [/S <система> [/U [<домен\>]<пользователь> [/P [<пароль>]]]]
         /F <файл> {var {/A x,y | /R x,y строка}[/M] | /X} [/D <разделители>]

Описание.
    Создание или изменение переменных среды в пользовательской
    или системной среде. Переменные можно задавать с помощью
    аргументов, параметров реестра или ввода из файла.

Параметры:
    /S     <система>                Подключаемый удаленный компьютер.

    /U     [<домен>\]<пользователь> Пользовательский контекст, в котором
                                    должна выполняться эта команда.

    /P     [<пароль>]               Пароль для этого пользовательского
                                    контекста.

    var                             Задаваемая переменная среды.

    значение                        Значение, назначаемое переменной
                                    среды.

    /K     <путь>                   Задание переменной по информации,
                                    содержащейся в параметре реестра.
                                    Путь должен задаваться в формате
                                    куст\раздел\...\параметр. Например,
                                    HKEY_LOCAL_MACHINE\System\
                                    CurrentControlSet\
                                    Control\timeZoneInformation\StandardName.

    /F     <файл>                   Имя текстового файла, который следует
                                    использовать.

    /A     x,y                      Задание абсолютных координат файла
                                    (строка X, элемент Y) как параметров 
                                    поиска в файле.

    /R     x,y <строка>             Задание координат относительно значения
                                    "строка" как параметров поиска.

    /M                              Указание создания переменной среды
                                    на системном уровне (HKEY_LOCAL_MACHINE).
                                    По умолчанию переменная среды
                                    создается в разделе HKEY_CURRENT_USER
                                    на уровне пользователя.

    /X                              Отображение содержимого файла с
                                    координатами x,y.

    /D     <разделители>            Указание дополнительных разделителей,
                                    таких как "," или "\".
                                    Встроенные разделители: символы пробела,
                                    табуляции, возврата каретки и перевода
                                    строки. Дополнительным разделителем может
                                    быть любой знак ASCII.
                                    Максимальное число разделителей,
                                    включая встроенные, равняется 15.

    /?                              Вывод справки по использованию.

Примечания.
      1) SETX записывает переменные в главную среду в реестре.

      2) На локальном компьютере переменные, созданные или измененные данным
         средством, будут доступны в будущем окне командной строки,
         но не в текущем окне CMD.exe.

      3) На удаленном компьютере переменные, созданные или измененные данным
         средством, будут доступны со следующего сеанса входа.

      4) Допустимые типы параметров реестра: REG_DWORD, REG_EXPAND_SZ,
         REG_SZ, REG_MULTI_SZ.

      5) Поддерживаемые кусты:  HKEY_LOCAL_MACHINE (HKLM),
         HKEY_CURRENT_USER (HKCU).

      6) Разделители определяются с учетом регистра.

      7) Значения типа REG_DWORD извлекаются из реестра в десятичном 
         формате.

Примеры:
    SETX MACHINE COMPAQ 
    SETX MACHINE "COMPAQ COMPUTER" /M
    SETX MYPATH "%PATH%"
    SETX MYPATH ~PATH~
    SETX /S система /U пользователь /P пароль  MACHINE COMPAQ 
    SETX /S система /U пользователь /P пароль MYPATH ^%PATH^% 
    SETX TZONE /K HKEY_LOCAL_MACHINE\System\CurrentControlSet\
         Control\timeZoneInformation\StandardName
    SETX BUILD /K "HKEY_LOCAL_MACHINE\Software\Microsoft\Windows
         NT\CurrentVersion\CurrentBuildNumber" /M
    SETX /S система /U пользователь /P пароль TZONE /K HKEY_LOCAL_MACHINE\
         System\CurrentControlSet\Control\timeZoneInformation\
         StandardName
    SETX /S система /U пользователь /P пароль BUILD /K 
         "HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\
         CurrentVersion\CurrentBuildNumber" /M
    SETX /F ipconfig.out /X 
    SETX IPADDR /F ipconfig.out /A 5,11 
    SETX OCTET1 /F ipconfig.out /A 5,3 /D "#$*." 
    SETX IPGATEWAY /F ipconfig.out /R 0,7 Gateway
    SETX /S система /U пользователь /P пароль  /F c:\ipconfig.out /X
